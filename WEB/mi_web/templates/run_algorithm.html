<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Run Algorithm</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        h1 {
            color: #333;
        }
        #log-container {
            width: 80%;
            height: 400px;  /* Doble de tamaño */
            border: 1px solid #ccc;
            margin: 0 auto;
            padding: 10px;
            background-color: #f9f9f9;
            overflow-y: scroll;
            font-family: monospace;
            white-space: pre-wrap;
            text-align: left;
        }
        .button-container {
            margin-top: 20px;
        }
        .button-container button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            cursor: pointer;
            border-radius: 5px;
        }
        .button-container button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <h1>Running Algorithm...</h1>

    <div id="log-container"></div>

    <!-- Contenedor para los botones -->
    <div class="button-container">
        <button onclick="downloadFile()">Download .txt</button>
        <button onclick="window.location.href='/visualization'">Visualization</button>
        <button onclick="window.location.href='/logout'">Exit</button>
    </div>

    <script>
        const logContainer = document.getElementById('log-container');
        const lines = [
            "Current mRNA  = { CLCA2 }",
            "(PTC) nSets to explore in current level = { 1 }",
            "----------------------PTC.findParents MODEL REJECTED------------------------",
            "Current mRNA  = { NEK10 }",
            "(PTC) nSets to explore in current level = { 1 }",
            "NEK10  PTC.findParents  = { 1 }",
            "Current mRNA  = { HOXB13 }",
            "(PTC) nSets to explore in current level = { 1 }",
            "HOXB13  PTC.findParents  = { 1, 2 }",
            "Current mRNA  = { ONECUT2 }",
            "(PTC) nSets to explore in current level = { 1 }",
            "(PTC) nSets to explore in current level = { 4 }",
            "(PTC) nSets to explore in current level = { 6 }",
            "(PTC) nSets to REMOVE in current level = { 2 }",
            "(PTC) nSets to explore in current level = { 2 }",
            "ONECUT2  PTC.findParents  = { 2, 4 }",
            "Current mRNA  = { PI16 }",
            "(PTC) nSets to explore in current level = { 1 }",
            "----------------------PTC.findParents MODEL REJECTED------------------------",
            "Current mRNA  = { SLC6A4 }",
            "(PTC) nSets to explore in current level = { 1 }",
            "SLC6A4  PTC.findParents  = { 1, 2 }",
            "Current mRNA  = { ELOVL2 }",
            "(PTC) nSets to explore in current level = { 1 }",
            "(PTC) nSets to explore in current level = { 2 }"
        ];

        let index = 0;
        const delay = 20;  // 0.02 segundos = 20 ms

        function addLine() {
            if (index < lines.length) {
                logContainer.innerHTML += lines[index] + "\n";
                index++;
                logContainer.scrollTop = logContainer.scrollHeight;
                setTimeout(addLine, delay);
            }
        }

        // Función para descargar el archivo .txt con la palabra "Hola"
        function downloadFile() {
            const element = document.createElement('a');
            const file = new Blob(["Hola"], { type: 'text/plain' });
            element.href = URL.createObjectURL(file);
            element.download = "hello.txt";
            document.body.appendChild(element); // Requerido para Firefox
            element.click();
        }

        addLine();
    </script>

</body>
</html>
